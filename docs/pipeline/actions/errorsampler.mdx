---
title: "Error Sampler"
sidebarTitle: "Error Sampler"
---

The "Error Sampler" Odigos Action supports error sampling, filtering out non-error traces.

### Use Cases

#### Cost Reduction

- Some vendors charge based on the amount of data ingested. For self hosted destinations, the cost is correlated to the use of cloud resources which grows with the based on the amount of data you process and store. By Reducing traces volumes, you can reduce the amount of data ingested and reduce costs.

#### System Optimization
- Error traces are typically more informative for identifying and resolving issues. By focusing only on error traces, developers can quickly pinpoint and address problems, optimizing system performance and reducing the time and resources spent on debugging non-critical traces.

### Mechanism

This action filter non-error traces.

- It is recommended to still capture a portion of the traces that were not sampled due to the addition of the Error Sampler Action. You can achieve this by adding a [Probabilistic Sampler Action](probabilisticsampler). Configure the Probabilistic Sampler with the desired ratio to determine the percentage of these unsampled traces to capture.

### Basic Example

The basic example below shows how to add a sampler with 

Create a file named `error-sampler.yaml` with the following content:

```yaml
apiVersion: actions.odigos.io/v1alpha1
kind: ErrorSampler
metadata:
  name: example-error-sampler
  namespace: odigos-system
spec:
  actionName: "configure error_sampler"
  signals:
    - TRACES
```

Apply the action to the cluster:

```bash
kubectl apply -f error-sampler.yaml
```

### Full Action Options

The full list of options available for the "ErrorSampler" action are:

- `sample_unset (optional): A boolean that controls whether traces with an UNSET status should also be sent.

- `signals` (required): An array with the signals that the processor will act on (`TRACES`).

- `actionName` (optional): Allows you to attach a meaningful name to the action for convenience. Odigos does not use or assume any meaning from this field.

- `notes` (optional): A free-form text field that allows you to attach notes to the action for convenience. Odigos does not use or assume any meaning from this field.

- `disabled` (optional): A boolean field that allows you to disable the action. When set to `true`, the action will not be executed. The default value is `false`.

### Notes

- Supports only traces.
- All spans in a trace will be either entirely dropped or entirely sampled.
- Adding this action causes a 30-second delay in sending the data.
- Traces with durations exceeding 30 seconds might not be sampled correctly.
